{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>LIT Reviews - Flux</title>
    {% include "_components/head.html" %}
</head>

<body class="bg-dark-100 text-light font-body">
    <div class="max-w-5xl ml-auto mr-auto">
        {% include "_components/nav_bar.html" %}

        <section class="my-4 max-w-3xl ml-auto mr-auto space-y-10">
            {% for post in posts|dictsortreversed:"time_created" %}
            <section class="flex flex-col space-y-4">
                <div class="flex justify-end space-x-4">
                    <div
                        class="flex content-center bg-layer cursor-pointer rounded p-3 hover:opacity-95 active:opacity-90">
                        <form action="delete/{% if post.ticket %}review{% else %}ticket{% endif %}/{{post.id}}"
                            method="get">
                            <!-- {% csrf_token %} -->
                            <!-- <input name="delete" value="true" class="hidden" /> -->
                            <button class="border-0 focus:ring-0 w-full p-0 font-bold text-left" type="submit">
                                Delete
                            </button>
                        </form>

                        <div class="pl-3 text-light">
                            <svg width="24" height="24" viewBox="0 0 48 48" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path class="stroke-current" d="M9 10V44H39V10H9Z" fill="none" stroke="#ffffff"
                                    stroke-width="3" stroke-linejoin="round" />
                                <path class="stroke-current" d="M20 20V33" stroke="#ffffff" stroke-width="3"
                                    stroke-linecap="butt" stroke-linejoin="round" />
                                <path class="stroke-current" d="M28 20V33" stroke="#ffffff" stroke-width="3"
                                    stroke-linecap="butt" stroke-linejoin="round" />
                                <path class="stroke-current" d="M4 10H44" stroke="#ffffff" stroke-width="3"
                                    stroke-linecap="butt" stroke-linejoin="round" />
                                <path class="stroke-current" d="M16 10L19.289 4H28.7771L32 10H16Z" fill="none"
                                    stroke="#ffffff" stroke-width="3" stroke-linejoin="round" />
                            </svg>
                        </div>
                    </div>

                    <div
                        class="flex input content-center bg-layer cursor-pointer rounded p-3 hover:opacity-95 active:opacity-90">

                        <form action="edit/{% if post.ticket %}review{% else %}ticket{% endif %}/{{post.id}}"
                            method="get">
                            <!-- {% csrf_token %} -->
                            <!-- <input name="delete" value="false" class="hidden" /> -->
                            <button class=" border-0 focus:ring-0 w-full p-0 font-bold text-left" type="submit">
                                Edit Post
                            </button>
                        </form>

                        <div class="pl-3 text-light">
                            <svg width="24" height="24" viewBox="0 0 48 48" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path class="stroke-current" d="M40 33V42C40 43.1046 39.1046 44 38 44H31.5"
                                    stroke="#ffffff" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round" />
                                <path class="stroke-current"
                                    d="M40 16V6C40 4.89543 39.1046 4 38 4H10C8.89543 4 8 4.89543 8 6V42C8 43.1046 8.89543 44 10 44H16"
                                    stroke="#ffffff" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round" />
                                <path class="stroke-current" d="M16 16H30" stroke="#ffffff" stroke-width="3"
                                    stroke-linecap="butt" />
                                <path class="stroke-current" d="M23 44L40 23" stroke="#ffffff" stroke-width="3"
                                    stroke-linecap="butt" />
                                <path class="stroke-current" d="M16 24H24" stroke="#ffffff" stroke-width="3"
                                    stroke-linecap="butt" />
                            </svg>
                        </div>
                    </div>
                </div>

                {% include "_components/post.html" %}
            </section>
            {% endfor %}

            {% if not posts %}
            <div class="flex bg-layer text-light flex-col p-3 rounded justify-center items-center space-x-3 h-64">
                <div class="icon">
                    <svg width="64" height="64" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path class="stroke-current"
                            d="M24 31L21 26L28 20L19 15L20 9.19942C18.4999 8.43256 16.8004 8 15 8C8.92487 8 4 12.9249 4 19C4 30 17 40 24 42C31 40 44 30 44 19C44 12.9249 39.0751 8 33 8C31.1996 8 29.5001 8.43256 28 9.19942"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
                <h3 class="text-xl">No posts found</h3>
            </div>
            {% endif %}
        </section>
    </div>
</body>

</html>